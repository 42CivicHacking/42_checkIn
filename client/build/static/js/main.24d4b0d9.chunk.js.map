{"version":3,"sources":["components/LandingPage.js","components/Checkbox.js","components/SubmitPage.js","components/EndPage.js","App.js","reportWebVitals.js","index.js"],"names":["LandingPage","className","onClick","window","location","href","Checkbox","props","name","text","checkStatus","setCheckStatus","type","checked","onChange","slice","SERVER_URL","CheckInPage","useState","userId","setUserId","isEnter","setIsEnter","checkAll","setCheckAll","cardNum","setCardNum","readySubmit","setReadySubmit","handleCheckIn","a","axios","get","data","post","console","log","alert","handleCheckOut","getUserData","response","login","card","document","cookie","useEffect","key","cookieKey","result","cookieArr","split","i","length","substring","indexOf","getCookieValue","JSON","stringify","id","e","isChecked","target","map","checkList","value","EndPage","setTimeout","style","textAlign","marginTop","App","path","exact","component","SubmitPage","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.24d4b0d9.chunk.js","sourcesContent":["import '../styles/LandingPage.css';\n\n// cookie에  w_auth 있는지 확인\n// 없으면 로그인 버튼 뜨게\n// 있으면 /user/auth => valid check  => 401 : 다시 로그인버튼 / /submit으로\n\nfunction LandingPage () {\n\tconst handleLogin = () => {\n\t\twindow.location.href = '/api/user/login';\n\t  };\n\treturn (\n\t\t<>\n\t\t\t<div className=\"btn\" onClick={handleLogin}>42 Log In</div>\n\t\t</>\n\t)\n\n};\n\nexport default LandingPage;\n","import '../styles/Checkbox.css';\n\nfunction Checkbox (props) {\n\tconst {name, text, checkStatus, setCheckStatus} = props;\n\n\tconst handleChange = () => {\n\t\tconst checked = checkStatus[name];\n\t\tsetCheckStatus([\n\t\t\t...checkStatus.slice(0,name),\n\t\t\t!checked,\n\t\t\t...checkStatus.slice(name+1)\n\t\t])\n\t}\n\treturn (\n\t\t<div>\n\t\t<input className=\"checkbox\" type=\"checkbox\" checked={checkStatus[name]} onChange={handleChange} />{text}\n\t\t</div>\n\t)\n};\nexport default Checkbox;\n","import {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport Checkbox from './Checkbox';\nimport '../styles/SubmitPage.css'\n\nconst SERVER_URL = 'http://13.209.202.141';\n\nfunction CheckInPage () {\n\tconst checkLists = [\n\t\t'발열 체크시 37.5도 이하인 것을 확인했습니다.',\n\t\t'이 임시 출입카드를 분실 시 분실 비용이 발생하는 것을 확인했습니다.',\n\t\t'마스크를 반드시 상시 착용하고 방역수칙을 준수할 것을 약속하며, 모든 설문을 이상없이 작성했음을 확인합니다.'\n\t];\n\n\tconst [userId, setUserId] = useState('');\n\tconst [isEnter, setIsEnter] = useState(false);\n\tconst [checkAll, setCheckAll] = useState(false);\n\tconst [checkStatus, setCheckStatus] = useState([false, false, false]);\n\tconst [cardNum, setCardNum] = useState('');\n\tconst [readySubmit, setReadySubmit] = useState(false);\n\n\tconst handleCheckIn = async () => {\n\t\tif (readySubmit)\n\t\t{\n\t\t\ttry {\n\t\t\t\tconst res_valid = await axios.get(`${SERVER_URL}/api/card/valid/${cardNum}`);\n\t\t\t\tif (res_valid.data['using'] === false)\n\t\t\t\t{\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait axios.post(`${SERVER_URL}/api/user/checkIn/${cardNum}`);\n\t\t\t\t\t\twindow.location.href = '/end';\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetCardNum('');\n\t\t\t\t\talert('유효한 카드 번호가 아닙니다');\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst handleCheckOut = async() => {\n\t\ttry {\n\t\t\tawait axios.post(`${SERVER_URL}/api/user/checkOut`);\n\t\t\twindow.location.href = '/end';\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t}\n\t};\n\n\tconst handleCheckAll = (e) => {\n\t\tconst isChecked = e.target.checked;\n\t\tsetCheckAll(isChecked);\n\t\tsetCheckStatus([isChecked, isChecked, isChecked]);\n\t};\n\n\tconst handleCardNum = (e) => {\n\t\tsetCardNum(e.target.value);\n\t}\n\n\tconst getCookieValue = (key) => {\n\t\tlet cookieKey = key + \"=\";\n\t\tlet result = \"\";\n\t\tconst cookieArr = document.cookie.split(\";\");\n\n\t\tfor(let i = 0; i < cookieArr.length; i++) {\n\t\t  if(cookieArr[i][0] === \" \")\n\t\t\tcookieArr[i] = cookieArr[i].substring(1);\n\t\t  if(cookieArr[i].indexOf(cookieKey) === 0) {\n\t\t\tresult = cookieArr[i].slice(cookieKey.length, cookieArr[i].length);\n\t\t\treturn result;\n\t\t  }\n\t\t}\n\t\treturn result;\n\t}\n\n\tconst getUserData = async() => {\n\t\ttry {\n\t\t\tconst response = await axios.get('/api/user/status');\n\t\t\tconst {login, card} = response.data;\n\t\t\tsetUserId(login);\n\t\t\tif (card !== null)\n\t\t\t\tsetIsEnter(true);\n\t\t\telse\n\t\t\t\tsetIsEnter(false);\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\tdocument.cookie = 'w_auth=; expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n\t\t\twindow.location.href = '/';\n\t\t}\n\t}\n\n\tuseEffect (() => {\n\t\tconst token = getCookieValue('w_auth');\n\t\tif (token !== '')\n\t\t\tgetUserData();\n\t\telse\n\t\t\twindow.location.href = '/';\n\t\tif (isEnter === false && cardNum !== '' && JSON.stringify(checkStatus) === JSON.stringify([true, true, true]))\n\t\t\tsetReadySubmit(true);\n\t\tif (cardNum === '' || cardNum === '---' || JSON.stringify(checkStatus) !== JSON.stringify([true, true, true]))\n\t\t\tsetReadySubmit(false);\n\t}, [userId, cardNum, checkStatus, isEnter, readySubmit]);\n\n\treturn (\n\t\t<>\n\t\t<div id=\"checkinout\">\n\t\t\t<h1 id=\"title\">{isEnter ? '42 CheckOut' : '42 CheckIn'}</h1>\n\t\t\t<h3 id=\"userId\">Intra ID: {userId}</h3>\n\t\t\t{isEnter ?\n\t\t\t\t<div className=\"submitBtn ready\" onClick={handleCheckOut}>Check Out</div>\n\t\t\t\t:\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"input-wrapper\">\n\t\t\t\t\t\t<input type=\"checkbox\" checked={checkAll} onChange={handleCheckAll} />모두 동의\n\t\t\t\t\t\t<div className=\"checkbox-wrapper\">\n\t\t\t\t\t\t\t{checkLists.map((checkList, id) =>\n\t\t\t\t\t\t\t<Checkbox key={id} name={id} text={checkList} checkStatus={checkStatus} setCheckStatus={setCheckStatus}/>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"input-wrapper\">\n\t\t\t\t\t\t<h3>Card Number</h3>\n\t\t\t\t\t\t<div id=\"card\">\n\t\t\t\t\t\t\t<input type=\"text\" name=\"text\" value={cardNum} onChange={handleCardNum}></input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className={`submitBtn ${readySubmit ? ' ready': ''}`} onClick={handleCheckIn}>Check In</div>\n\t\t\t\t</div>\n\t\t\t}\n\t\t</div>\n\t\t</>\n\t)\n};\nexport default CheckInPage;\n","import { useEffect } from \"react\";\n\nfunction EndPage() {\n\tuseEffect(()=> {\n\t\tsetTimeout(()=>window.location.href='/submit', 3000);\n\t})\n\treturn (\n\t\t<div>\n\t\t\t<h1 style={{textAlign: \"center\", marginTop: '45vh'}}>Complete!</h1>\n\t\t</div>\n\t)\n}\n\nexport default EndPage;\n","import { BrowserRouter, Route } from 'react-router-dom';\nimport LandingPage from './components/LandingPage';\nimport SubmitPage from './components/SubmitPage';\nimport EndPage from './components/EndPage';\nimport './App.css';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Route path=\"/\" exact={true} component={LandingPage} />\n      <Route path=\"/submit\" component={SubmitPage}/>\n      <Route path=\"/end\" component={EndPage}/>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}